# Page snapshot

```yaml
- generic [ref=e3]:
  - banner [ref=e4]:
    - generic [ref=e6]:
      - heading "üîê Auth Demo" [level=1] [ref=e7]:
        - generic [ref=e8]: üîê
        - text: Auth Demo
      - generic [ref=e10]: Not authenticated
  - main [ref=e12]:
    - generic [ref=e14]:
      - generic [ref=e15]:
        - heading "Flows Auth Demo" [level=1] [ref=e16]:
          - generic [ref=e17]: Flows Auth
          - text: Demo
        - paragraph [ref=e18]: Comprehensive demonstration of authentication flows, state machine, and branded components
        - generic [ref=e25]: Initializing...
      - generic [ref=e26]:
        - button "Overview" [ref=e27] [cursor=pointer]:
          - img [ref=e28] [cursor=pointer]
          - generic [ref=e30] [cursor=pointer]: Overview
          - img [ref=e31] [cursor=pointer]
        - button "Sign In Flow" [ref=e33] [cursor=pointer]:
          - img [ref=e34] [cursor=pointer]
          - generic [ref=e37] [cursor=pointer]: Sign In Flow
          - img [ref=e38] [cursor=pointer]
        - button "Registration" [active] [ref=e40] [cursor=pointer]:
          - img [ref=e41] [cursor=pointer]
          - generic [ref=e44] [cursor=pointer]: Registration
          - img [ref=e45] [cursor=pointer]
        - button "Passkey Auth" [ref=e47] [cursor=pointer]:
          - img [ref=e48] [cursor=pointer]
          - generic [ref=e52] [cursor=pointer]: Passkey Auth
          - img [ref=e53] [cursor=pointer]
        - button "State Machine" [ref=e55] [cursor=pointer]:
          - img [ref=e56] [cursor=pointer]
          - generic [ref=e59] [cursor=pointer]: State Machine
          - img [ref=e60] [cursor=pointer]
      - generic [ref=e63]:
        - heading "Registration Flow Demo" [level=2] [ref=e64]
        - paragraph [ref=e65]: "Test registration by first checking actual user state, then following the appropriate flow:"
        - generic [ref=e66]:
          - heading "Registration Debug Panel" [level=3] [ref=e67]
          - generic [ref=e68]:
            - heading "Auth Store Status" [level=4] [ref=e69]
            - paragraph [ref=e70]: "Available: ‚ùå No"
          - generic [ref=e71]:
            - heading "Test checkUser Function" [level=4] [ref=e72]
            - generic [ref=e73]:
              - generic [ref=e74]: "Test Email:"
              - textbox "Test Email:" [ref=e75]: test@example.com
            - generic [ref=e76]:
              - button "Test checkUser()" [ref=e77] [cursor=pointer]
              - button "Test API Directly" [ref=e78] [cursor=pointer]
        - button "üß™ Run Quick checkUser Test" [ref=e81] [cursor=pointer]
        - generic [ref=e82]:
          - heading "1. Check User State" [level=3] [ref=e84]
          - generic [ref=e85]:
            - generic [ref=e86]:
              - generic [ref=e87]: Email Address
              - textbox "Email Address" [ref=e88]
            - generic [ref=e89]:
              - button "Check User State" [disabled] [ref=e90]:
                - img [ref=e91]
                - text: Check User State
              - button "Clear Results" [ref=e94] [cursor=pointer]
        - generic [ref=e95]:
          - heading "2. Registration Flow Scenarios" [level=3] [ref=e97]
          - generic [ref=e98]:
            - paragraph [ref=e99]: "The registration system handles these different user states automatically:"
            - generic [ref=e100]:
              - generic [ref=e101]:
                - generic [ref=e102]:
                  - generic [ref=e103]: NEW USER
                  - heading "New User Registration" [level=4] [ref=e104]
                - paragraph [ref=e105]:
                  - strong [ref=e106]: "When:"
                  - text: Email doesn't exist in system
                - paragraph [ref=e107]:
                  - strong [ref=e108]: "Flow:"
                  - text: Create account ‚Üí Send verification email ‚Üí Email verification ‚Üí Passkey setup ‚Üí Complete
              - generic [ref=e109]:
                - generic [ref=e110]:
                  - generic [ref=e111]: UNVERIFIED
                  - heading "Email Verification Needed" [level=4] [ref=e112]
                - paragraph [ref=e113]:
                  - strong [ref=e114]: "When:"
                  - text: User exists but email not verified
                - paragraph [ref=e115]:
                  - strong [ref=e116]: "Flow:"
                  - text: Resend verification email ‚Üí Email verification ‚Üí Passkey setup ‚Üí Complete
              - generic [ref=e117]:
                - generic [ref=e118]:
                  - generic [ref=e119]: NO PASSKEY
                  - heading "Passkey Setup Required" [level=4] [ref=e120]
                - paragraph [ref=e121]:
                  - strong [ref=e122]: "When:"
                  - text: Email verified but no passkey registered
                - paragraph [ref=e123]:
                  - strong [ref=e124]: "Flow:"
                  - text: Skip email verification ‚Üí Passkey setup ‚Üí Complete
              - generic [ref=e125]:
                - generic [ref=e126]:
                  - generic [ref=e127]: COMPLETE
                  - heading "Already Registered" [level=4] [ref=e128]
                - paragraph [ref=e129]:
                  - strong [ref=e130]: "When:"
                  - text: Email verified AND has passkey
                - paragraph [ref=e131]:
                  - strong [ref=e132]: "Flow:"
                  - text: Reject registration ‚Üí Redirect to sign-in
        - generic [ref=e133]:
          - heading "3. Invitation Token Registration" [level=3] [ref=e135]
          - generic [ref=e136]:
            - paragraph [ref=e137]: "Register using an invitation token (bypasses some verification steps):"
            - generic [ref=e138]:
              - generic [ref=e139]: Invitation Token
              - textbox "Invitation Token" [ref=e140]
            - button "Register with Invitation" [disabled] [ref=e141]:
              - img [ref=e142]
              - text: Register with Invitation
            - paragraph [ref=e145]: Invitation tokens pre-fill user data and may skip email verification.
        - generic [ref=e147]:
          - 'heading "Domain Configuration: dev.thepia.net" [level=4] [ref=e148]'
          - paragraph [ref=e149]: Passkeys will be registered for this domain. Make sure it matches your testing environment.
```